제공된 코드를 메모리 안전하게 개선하세요
- 모든 할당은 정적으로 할당되어야함
- 스택 사용량은 계산되어야하며 함수에 주석으로 명시해야함
- 버퍼 오버플로우 방지를 위한 경계 검사
- 전역 변수 최소화 및 static으로 스코프 제한

코드를 MISRA-C 2012 필수(Mandatory) 규칙에 맞게 수정해주세요.
- Rule 10.1, 10.3, 10.4: 암묵적 타입 변환 제거, 필수 타입 모델 준수
- Rule 16.1, 16.4: 모든 switch문에 default 케이스 추가, 모든 경로에 break
- Rule 15.5: 함수는 단일 exit point (return문 하나)
- Rule 13.5: 논리 연산자 &&, || 의 우항에 부작용 금지
- Rule 8.7: Magic number를 명명된 상수로 변경 (0, 1 제외)


위 조건에 따라서 code가 제대로 생성되었는지 확인해줄래?
점수로 내줘 간결하게.